# -*- coding: utf-8 -*-
"""
数据处理配置文件
定义数据处理相关的各种配置参数
"""

# ==================== 全局数据处理配置 ====================
# 全局数据处理开关
GLOBAL_DATA_PROCESSING_CONFIG = {
    "启用数据处理": True,           # 全局数据处理开关
    "自动处理": True,               # 是否在其他功能中自动进行数据处理
    "处理模式": "auto",             # 处理模式: auto(自动), manual(手动), skip(跳过)
    "数据源": "processed",          # 数据源: original(原始), processed(处理后)
    "缓存处理结果": True,           # 是否缓存处理结果
    "强制重新处理": False,          # 是否强制重新处理数据
    "处理日志": True                # 是否记录处理日志
}

# ==================== 数据预处理配置 ====================
DATA_PREPROCESSING_CONFIG = {
    "缺失值处理": {
        "申购金额字段": 0,  # 缺失值填充为0
        "赎回金额字段": 0,  # 缺失值填充为0
        "消费金额字段": 0,  # 缺失值填充为0
        "转账金额字段": 0   # 缺失值填充为0
    },
    "异常值处理": {
        "启用异常值检测": True,
        "异常值阈值": 3.0,  # 3倍标准差
        "异常值处理方式": "clip"  # 截断到阈值
    },
    "时间特征": {
        "提取年份": True,
        "提取月份": True,
        "提取日期": True,
        "提取星期": True,
        "提取季度": True,
        "提取小时": False  # 当前数据没有小时信息
    }
}

# ==================== 数据处理配置 ====================
# 大数据量处理配置
DATA_PROCESSING_CONFIG = {
    "数据采样": {
        "启用采样": True,          # 是否启用数据采样
        "采样方式": "random",      # 采样方式: random(随机), systematic(系统), time_based(基于时间)
        "采样比例": 0.1,           # 采样比例 (0-1)
        "最大数据量": 100000,      # 最大处理数据量
        "最小数据量": 1000,        # 最小处理数据量
        "时间范围采样": {
            "启用": True,          # 是否启用时间范围采样
            "开始日期": "2013-07-01",  # 采样开始日期
            "结束日期": "2014-01-31",  # 采样结束日期
            "时间间隔": "1D"       # 时间间隔: 1D(天), 1W(周), 1M(月)
        }
    },
    "数据过滤": {
        "启用过滤": True,          # 是否启用数据过滤
        "异常值处理": {
            "启用": True,          # 是否处理异常值
            "方法": "iqr",         # 异常值检测方法: iqr, zscore, percentile
            "阈值": 1.5,           # IQR倍数或Z-score阈值
            "处理方式": "remove"   # 处理方式: remove(删除), clip(截断), fill(填充)
        },
        "缺失值处理": {
            "启用": True,          # 是否处理缺失值
            "方法": "drop",        # 处理方法: drop(删除), fill(填充), interpolate(插值)
            "填充值": 0,           # 填充值
            "最大缺失比例": 0.5    # 最大缺失值比例
        }
    },
    "数据聚合": {
        "启用聚合": True,          # 是否启用数据聚合
        "聚合方式": "daily",       # 聚合方式: daily(日), weekly(周), monthly(月)
        "聚合函数": "sum",         # 聚合函数: sum, mean, median, max, min
        "时间字段": "report_date"  # 时间字段名
    },
    "数据质量": {
        "完整性检查": True,        # 是否检查数据完整性
        "一致性检查": True,        # 是否检查数据一致性
        "有效性检查": True,        # 是否检查数据有效性
        "重复值处理": {
            "启用": True,          # 是否处理重复值
            "方法": "drop"         # 处理方法: drop(删除), keep_first(保留第一个), keep_last(保留最后一个)
        }
    },
    "输出配置": {
        "保存处理后的数据": True,  # 是否保存处理后的数据
        "输出格式": "csv",         # 输出格式: csv, parquet, pickle
        "压缩": False,             # 是否压缩输出文件
        "输出目录": "processed_data"  # 输出目录
    }
}

 