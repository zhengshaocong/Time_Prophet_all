# -*- coding: utf-8 -*-
"""
数据处理配置文件
定义数据处理相关的通用配置参数
注意：特化配置已移至数据源文件夹中的config.json
"""

# ==================== 全局数据处理配置 ====================
# 全局数据处理开关
GLOBAL_DATA_PROCESSING_CONFIG = {
    "启用数据处理": True,           # 全局数据处理开关
    "自动处理": True,               # 是否在其他功能中自动进行数据处理
    "处理模式": "auto",             # 处理模式: auto(自动), manual(手动), skip(跳过)
    "数据源": "processed",          # 数据源: original(原始), processed(处理后)
    "缓存处理结果": True,           # 是否缓存处理结果
    "强制重新处理": False,          # 是否强制重新处理数据
    "处理日志": True                # 是否记录处理日志
}

# ==================== 通用数据预处理配置 ====================
# 注意：特化配置已移至数据源文件夹中的config.json
DATA_PREPROCESSING_CONFIG = {
    "时间范围限制": {
        "启用时间范围限制": True,    # 是否启用时间范围限制
        "开始日期": "2014-03-01",   # 开始日期
        "结束日期": "2014-08-31",   # 结束日期
        "时间格式": "%Y-%m-%d",     # 时间格式
        "超出范围警告": True,        # 是否在超出原始数据范围时发出警告
        "自动调整": False           # 是否自动调整到数据实际范围
    },
    "缺失值处理": {
        "数值字段默认值": 0,        # 数值字段缺失值默认填充值
        "字符串字段默认值": ""      # 字符串字段缺失值默认填充值
    },
    "异常值处理": {
        "启用异常值检测": True,
        "异常值阈值": 3.0,          # 3倍标准差
        "异常值处理方式": "clip"    # 截断到阈值
    },
    "时间特征": {
        "提取年份": True,
        "提取月份": True,
        "提取日期": True,
        "提取星期": True,
        "提取季度": True
    },
    "数据聚合": {
        "启用聚合": True,          # 是否启用数据聚合
        "聚合方式": "daily",        # 聚合方式: daily(日), weekly(周), monthly(月)
        "聚合函数": "sum",          # 聚合函数: sum, mean, median, max, min
        "时间字段": "auto",         # 时间字段名称，auto表示自动检测
        "聚合字段": "auto",         # 聚合字段列表，auto表示自动检测数值字段
        "排除字段": ["user_id"],    # 排除的字段列表
        "处理缺失值": True,         # 是否处理聚合后的缺失值
        "缺失值填充": 0,            # 缺失值填充方式
        "输出格式": {
            "保留时间索引": False,   # 是否保留时间索引
            "重置索引": True        # 是否重置索引
        }
    },
    "数据一致性处理": {
        "启用一致性检查": True,     # 是否启用数据一致性检查
        "处理方式": "correct"       # 处理方式: correct(修正), remove(删除)
    }
}

# ==================== 通用数据处理配置 ====================
DATA_PROCESSING_CONFIG = {
    "数据采样": {
        "启用采样": False,          # 是否启用数据采样
        "采样方式": "random",       # 采样方式: random(随机), systematic(系统)
        "采样比例": 0.1,            # 采样比例 (0-1)
        "最大数据量": 1000000,      # 最大处理数据量
        "最小数据量": 1000          # 最小处理数据量
    },
    "数据过滤": {
        "启用过滤": True,           # 是否启用数据过滤
        "时间范围过滤": {
            "启用": True,           # 是否启用时间范围过滤
            "开始日期": "2014-03-01", # 开始日期
            "结束日期": "2014-08-31", # 结束日期
            "时间格式": "%Y-%m-%d",   # 时间格式
            "超出范围警告": True,      # 超出范围时是否警告
            "自动调整": False         # 是否自动调整到数据实际范围
        },
        "异常值处理": {
            "启用": True,           # 是否处理异常值
            "方法": "iqr",          # 异常值检测方法: iqr, zscore, percentile
            "阈值": 1.5,            # IQR倍数或Z-score阈值
            "处理方式": "remove"    # 处理方式: remove(删除), clip(截断), fill(填充)
        },
        "缺失值处理": {
            "启用": True,           # 是否处理缺失值
            "方法": "fill",         # 处理方法: drop(删除), fill(填充), interpolate(插值)
            "最大缺失比例": 0.5     # 最大缺失值比例
        }
    },
    "数据质量": {
        "完整性检查": True,         # 是否检查数据完整性
        "一致性检查": True,         # 是否检查数据一致性
        "有效性检查": True,         # 是否检查数据有效性
        "重复值处理": {
            "启用": True,           # 是否处理重复值
            "方法": "drop"          # 处理方法: drop(删除), keep_first(保留第一个)
        }
    }
}

 